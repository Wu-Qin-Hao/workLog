# 一、前端分析

![前端应用](/front/前端应用.png)

> 目前前端开发基于react，vue框架。对应配套的有react-UI组件，vue-UI组件。

**使用热门UI组件的优势**

* 功能齐全，组件无bug
* UI样式好看
* 查阅文档，使用简单，减少开发量
* 公共认可，使用统一，容易维护

**以上是理想状态，实际开发过程中有以下问题**

* 自己开发组件（UI细节不到位，代码实现不理想，没有组件使用文档，第三个维护者难以入手）

* 页面由组件组成，组件间有相互关系，通过js粘合各组件，这时代码比较松散，组件间的状态通过变量来控制（这块就是程序员鄙视链中所说的 **胶水代码语言** 实际上拼接UI组件也只能这么写） 

* 有些功能逻辑可以脱离UI组件抽离出来，形式js模块，供各个地方使用，然而开发过程中并没有抽象，形成开发一时爽，维护火葬场的状态。

# 二、ccbim目前状况分析

* 1.ccbim经过多人之手，破烂不堪，代码冗余严重，不少代码是为了解决一个需求功能copy了一份代码来修改部分，造成后期维护时，一搜索出来很多相关代码部分，由于对老需求不了解，不敢轻易删除修改，代码又难以阅读，就会造成滚雪球式效应。

* 2.ccbim里一开始用的都是zz-桩桩组件，然而桩桩自己都老早弃用这套组件（对比框架配套的UI组件;zz组件样式不好看，功能不齐全，有些有bug，没有文档要自己看代码理解使用，不维护更新）

* 3.修改bug太痛苦。bug的产出就是开发者脑子里的逻辑缺陷。修改之前的老bug，得先理解之前的逻辑思路，调试修改，然而一旦代码耦合太高，太脆弱，一修改并不知会引发其它怎样的一系列bug

# 三、ccbim前端迭代

> 产品要迭代，前端技术也要不断更新。

ccbim项目的前端技术一直停留在ccbim项目建立时，虽然迭代了功能，修改了样式，但是前端技术没有更新，有不少历史遗留的问题。

架构是随着产品应用变化的，相关技术也是这样产生的。一开始ccbim快速出成果，基于当时的技术和人员配置来技术选型，到现在公司整体的前端技术有了不少迭代升级，但是ccbim前端技术没有什么变更。

我觉得后面的产品迭代如果继续基于现有的ccbim项目，产品功能是可以迭代上去，但是前端输出意义不大。后期维护成本会越来越高，没有人打心底愿意接受维护。

# 四、建议

> 开始转向微前端

## 1.什么是微前端

微前端是一种多个团队通过独立发布功能的方式来共同构建现代化 web 应用的技术手段及方法策略。

微前端架构具备以下几个核心价值：

* 技术栈无关
主框架不限制接入应用的技术栈，微应用具备完全自主权

* 独立开发、独立部署
微应用仓库独立，前后端可独立开发，部署完成后主框架自动完成同步更新

* 增量升级
在面对各种复杂场景时，我们通常很难对一个已经存在的系统做全量的技术栈升级或重构，而微前端是一种非常好的实施渐进式重构的手段和策略

* 独立运行时
每个微应用之间状态隔离，运行时状态不共享

## 2.为什么转向微前端

> 微前端架构旨在解决单体应用在一个相对长的时间跨度下，由于参与的人员、团队的增多、变迁，从一个普通应用演变成一个巨石应用后，随之而来的应用不可维护的问题。这类问题在企业级 Web 应用中尤其常见。

理由如下

* 1.为了解决前面提出的ccbim问题，对ccbim进行全量的技术栈升级和重构不太可能，结合微前端进行渐进式的重构才是合理的手段。
* 2.ccbim原有的老业务界面保持不动，迭代的新功能用新技术栈，有团队维护更新的UI组件。然而要实现，目前为止微前端是最好的方案。
* 3.平台定制组（目前也没有使用微前端），ccbim组，在未来可能有些功能模块会相互复用，基于现在的ccbim是不可能的，基于微前端可以复用别人的项目页面。两个组可以独立开发，独立部署，最后可以相互复用。

# 五、可能问题

* 1.使用引入新技术并不是短时间内就能完成的
* 2.要学习使用微前端，搭建主应用，子应用。没有实际开发经验，使用过程中会遇到不少问题。拆分会有不少问题，会耗费不少时间
